{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\development_loc\\\\itsm_frontend\\\\src\\\\Pages\\\\request\\\\CreateRequestDetailsForm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport GeneratedForm from \"../../Components/cmdb/classmanagement/GeneratedForm\";\nimport GlobalService from \"../../services/GlobalService\";\nimport { resturls } from \"../../global/utils/apiurls\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom\";\nimport { Box, Typography } from \"@mui/material\";\nimport { useAuth } from \"../../application/modules/auth/hooks/useAuth\";\nimport ContentDevider from \"../../Components/HelperComponents/ContentDevider\";\nimport { useTheme } from \"../../global/commonComponents/ThemeContext\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CreateRequestDetailsForm() {\n  _s();\n  var _requestCreatedFormDe, _requestCreatedFormDe2;\n  const {\n    theme\n  } = useTheme();\n  const {\n    user_auth: {\n      emailAddress\n    }\n  } = useAuth();\n  const {\n    catelogueId,\n    categoryId\n  } = useParams();\n  // const [formData, setFormData] = useState({\n  // requestNumber: \"\",\n  // approvalStatus: \"\",\n  // openedBy: \"\",\n  // requestedFor: \"\",\n  // priority: \"\",\n  // assignedTo: \"\",\n  // dueDate: \"\",\n  // openedDate: \"\",\n  // });\n  const initValues = {\n    \"Requested Email\": emailAddress\n  };\n  const [requestFormFields, setRequestFormFields] = useState([]);\n  const [requestCreatedFormDetails, setRequestCreatedFormDetails] = useState({});\n  const getFormFieldsByCategoryId = () => {\n    GlobalService.generalSelect(respData => {\n      const {\n        estatus,\n        data\n      } = respData;\n      if (estatus) {\n        console.log(categoryId, catelogueId, 'categoryId');\n        const foundObject = data === null || data === void 0 ? void 0 : data.find(item => (item === null || item === void 0 ? void 0 : item.catalogItemId) === categoryId);\n        console.log(foundObject, 'foundObject');\n        setRequestFormFields(foundObject.generalInformation.attributes);\n        setRequestCreatedFormDetails(foundObject);\n      }\n    }, `${resturls.getByCategory}?categoryId=${catelogueId}`, {}, \"GET\");\n  };\n\n  // const catalogReqItmCount = () => {\n  // GlobalService.generalSelect(\n  // (respData) => {\n  // const { estatus, data } = respData;\n  // if (estatus) {\n  // setFormData((prevData) => ({ ...prevData, requestNumber: data, }));\n  // }\n  // },\n  // `${resturls.catalogReqItmCount}`,\n  // {},\n  // \"GET\"\n  // );\n  // };\n\n  useEffect(() => {\n    // catalogReqItmCount();\n    getFormFieldsByCategoryId();\n  }, []);\n  const searchOptedEmails = {\n    \"Requested Email\": true\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ContentDevider, {\n      title: \"Create Request\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-[4vh]\",\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        clasName: \"flex items-center justify-between p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: `${theme.subHeaderFontColor}`\n          },\n          children: requestCreatedFormDetails === null || requestCreatedFormDetails === void 0 ? void 0 : (_requestCreatedFormDe = requestCreatedFormDetails.generalInformation) === null || _requestCreatedFormDe === void 0 ? void 0 : _requestCreatedFormDe.serviceRequestName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          style: {\n            color: `${theme.subHeaderFontColor}`\n          },\n          children: requestCreatedFormDetails === null || requestCreatedFormDetails === void 0 ? void 0 : (_requestCreatedFormDe2 = requestCreatedFormDetails.generalInformation) === null || _requestCreatedFormDe2 === void 0 ? void 0 : _requestCreatedFormDe2.serviceRequestDescription\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GeneratedForm, {\n        initialValues: initValues,\n        formFields: requestFormFields,\n        catelogueId: catelogueId,\n        searchOptedEmails: searchOptedEmails,\n        requestCreatedFormDetails: requestCreatedFormDetails\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(CreateRequestDetailsForm, \"H6mS6orE0+WlXTvpjqVLkuL/fEc=\", false, function () {\n  return [useTheme, useAuth, useParams];\n});\n_c = CreateRequestDetailsForm;\nvar _c;\n$RefreshReg$(_c, \"CreateRequestDetailsForm\");","map":{"version":3,"names":["React","useEffect","useState","GeneratedForm","GlobalService","resturls","useParams","Box","Typography","useAuth","ContentDevider","useTheme","jsxDEV","_jsxDEV","Fragment","_Fragment","CreateRequestDetailsForm","_s","_requestCreatedFormDe","_requestCreatedFormDe2","theme","user_auth","emailAddress","catelogueId","categoryId","initValues","requestFormFields","setRequestFormFields","requestCreatedFormDetails","setRequestCreatedFormDetails","getFormFieldsByCategoryId","generalSelect","respData","estatus","data","console","log","foundObject","find","item","catalogItemId","generalInformation","attributes","getByCategory","searchOptedEmails","children","title","fileName","_jsxFileName","lineNumber","columnNumber","className","clasName","style","color","subHeaderFontColor","serviceRequestName","serviceRequestDescription","initialValues","formFields","_c","$RefreshReg$"],"sources":["C:/Users/DELL/development_loc/itsm_frontend/src/Pages/request/CreateRequestDetailsForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport GeneratedForm from \"../../Components/cmdb/classmanagement/GeneratedForm\";\r\nimport GlobalService from \"../../services/GlobalService\";\r\nimport { resturls } from \"../../global/utils/apiurls\";\r\nimport { useParams } from \"react-router-dom/cjs/react-router-dom\";\r\nimport { Box, Typography } from \"@mui/material\";\r\nimport { useAuth } from \"../../application/modules/auth/hooks/useAuth\";\r\nimport ContentDevider from \"../../Components/HelperComponents/ContentDevider\";\r\nimport { useTheme } from \"../../global/commonComponents/ThemeContext\";\r\n\r\nexport default function CreateRequestDetailsForm() {\r\n  const { theme } = useTheme();\r\n  const { user_auth: { emailAddress } } = useAuth();\r\n  const { catelogueId, categoryId } = useParams();\r\n  // const [formData, setFormData] = useState({\r\n  // requestNumber: \"\",\r\n  // approvalStatus: \"\",\r\n  // openedBy: \"\",\r\n  // requestedFor: \"\",\r\n  // priority: \"\",\r\n  // assignedTo: \"\",\r\n  // dueDate: \"\",\r\n  // openedDate: \"\",\r\n  // });\r\n  const initValues = {\r\n    \"Requested Email\": emailAddress,\r\n  }\r\n  const [requestFormFields, setRequestFormFields] = useState([]);\r\n  const [requestCreatedFormDetails, setRequestCreatedFormDetails] = useState({});\r\n\r\n  const getFormFieldsByCategoryId = () => {\r\n    GlobalService.generalSelect(\r\n      (respData) => {\r\n        const { estatus, data } = respData;\r\n        if (estatus) {\r\n          console.log(categoryId,catelogueId, 'categoryId');\r\n          const foundObject = data?.find(\r\n            (item) => item?.catalogItemId === categoryId\r\n          );\r\n          console.log(foundObject, 'foundObject');\r\n          setRequestFormFields(foundObject.generalInformation.attributes);\r\n          setRequestCreatedFormDetails(foundObject);\r\n        }\r\n      },\r\n      `${resturls.getByCategory}?categoryId=${catelogueId}`,\r\n      {},\r\n      \"GET\"\r\n    );\r\n  };\r\n\r\n  // const catalogReqItmCount = () => {\r\n  // GlobalService.generalSelect(\r\n  // (respData) => {\r\n  // const { estatus, data } = respData;\r\n  // if (estatus) {\r\n  // setFormData((prevData) => ({ ...prevData, requestNumber: data, }));\r\n  // }\r\n  // },\r\n  // `${resturls.catalogReqItmCount}`,\r\n  // {},\r\n  // \"GET\"\r\n  // );\r\n  // };\r\n\r\n\r\n  useEffect(() => {\r\n    // catalogReqItmCount();\r\n    getFormFieldsByCategoryId();\r\n  }, []);\r\n\r\n  const searchOptedEmails = {\r\n    \"Requested Email\": true,\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ContentDevider title=\"Create Request\" />\r\n      <div className=\"p-[4vh]\">\r\n        <Box clasName=\"flex items-center justify-between p-4\">\r\n          <span style={{ color: `${theme.subHeaderFontColor}` }}>\r\n            {requestCreatedFormDetails?.generalInformation?.serviceRequestName}\r\n          </span>\r\n          <Typography style={{ color: `${theme.subHeaderFontColor}` }}>\r\n            {\r\n              requestCreatedFormDetails?.generalInformation\r\n                ?.serviceRequestDescription\r\n            }\r\n          </Typography>\r\n        </Box>\r\n        <GeneratedForm\r\n          initialValues={initValues}\r\n          formFields={requestFormFields}\r\n          catelogueId={catelogueId}\r\n          searchOptedEmails={searchOptedEmails}\r\n          requestCreatedFormDetails={requestCreatedFormDetails}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}